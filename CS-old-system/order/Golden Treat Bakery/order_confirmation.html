<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=devices-width,initial-scale=1.0">
        <title>Order Confirmation</title>
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+N5gGL7jI1QKNpa+5aY3E9oUsggR2" crossorigin="anonymous"></script>
<!-- navbar -->
  <div id="navbar-placeholder"></div>

<section id="sub-pages">
  <div class="subpages_box">
    <a href="order_placement.html" class="btn subpage-btn">Place Order</a>
    <a href="order_edit.html" class="btn subpage-btn">Edit Orders</a>
    <a href="order_tracking.html" class="btn subpage-btn">Track Order</a>
    <a href="order_history.html" class="btn subpage-btn">History</a>
  </div>
</section>  
  
<main id="order-confirmation" class="container">

    <!-- Header -->
    <div class="d-flex align-items-center justify-content-between mb-3">
      <div>
        <h1 class="h4 mb-0 section-title">Checkout</h1>
        <div class="muted">Please review your order and payment details before confirming.</div>
      </div>
      <div class="text-end muted text-small">
        Order #<span id="display-order-id">TSH-20250815-001</span><br>
        <small>Placed: <span id="display-order-date">Aug 15, 2025</span></small>
      </div>
    </div>

    <form id="checkout-form" action="send-confirmation.php" method="POST" novalidate>
      <div class="row g-4">

        <!-- Left column: Address & Payment -->
        <div class="col-lg-7">

          <!-- Delivery Address -->
          <div class="card mb-3">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-start">
                <div>
                  <h2 class="h6 mb-1">Delivery Address</h2>
                  <div id="address-display" class="mt-1">
                    <address class="mb-1" id="address-text">123 Main Street, Colombo 00300</address>
                    <div class="muted">Recipient: <span id="recipient-name">Haritha</span> · <span id="address-phone">+94 77 123 4567</span></div>
                  </div>
                </div>
                <div>
                  <button type="button" class="btn btn-outline-primary btn-sm" data-bs-toggle="modal" data-bs-target="#editAddressModal">
                    <i class="fa-solid fa-pencil me-1"></i> Edit
                  </button>
                </div>
              </div>

              <hr class="my-3">

              <div class="row g-2 align-items-center">
                <div class="col-12 col-md-6">
                  <label class="form-label mb-1">Delivery time</label>
                  <input type="time" name="delivery_time" id="delivery-time" class="form-control" value="12:30" required>
                </div>
                <div class="col-12 col-md-6">
                  <label class="form-label mb-1">Delivery instructions (optional)</label>
                  <input type="text" name="delivery_instructions" id="delivery-instructions" class="form-control" placeholder="e.g., Ring bell twice, leave at gate">
                </div>
              </div>
            </div>
          </div>

          <!-- Payment -->
          <div class="card mb-3">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h2 class="h6 mb-0">Payment</h2>
                <div class="muted text-small">Secure payments powered by your gateway</div>
              </div>

              <!-- Payment method -->
              <div class="mb-3">
                <label class="form-label">Payment method</label>
                <div class="d-flex gap-2">
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="payment_method" id="pay-visa" value="visa" checked>
                    <label class="form-check-label payment-type-btn" for="pay-visa">
                      <i class="fa-brands fa-cc-visa me-1"></i> Visa / Mastercard
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="payment_method" id="pay-cod" value="cod">
                    <label class="form-check-label payment-type-btn" for="pay-cod">
                      <i class="fa-solid fa-money-bill-wave me-1"></i> Cash on Delivery
                    </label>
                  </div>
                </div>
              </div>

              <!-- Card details (hidden for COD) -->
              <div id="card-panel">
                <div class="mb-3">
                  <label for="card-number" class="form-label">Card number</label>
                  <input autocomplete="cc-number" inputmode="numeric" id="card-number" name="card_number" class="form-control" placeholder="1234 5678 9012 3456" aria-describedby="cardHelp" required>
                  <div id="cardHelp" class="form-text muted">We accept Visa and MasterCard. Card details are encrypted on the server.</div>
                </div>

                <div class="row g-2">
                  <div class="col-5 col-md-4">
                    <label for="exp-month" class="form-label">Expiry month</label>
                    <select id="exp-month" name="exp_month" class="form-select" required>
                      <option value="">MM</option>
                    </select>
                  </div>
                  <div class="col-4 col-md-4">
                    <label for="exp-year" class="form-label">Expiry year</label>
                    <select id="exp-year" name="exp_year" class="form-select" required>
                      <option value="">YY</option>
                    </select>
                  </div>
                  <div class="col-3 col-md-4">
                    <label for="cvv" class="form-label">CVV</label>
                    <input autocomplete="cc-csc" inputmode="numeric" id="cvv" name="cvv" class="form-control" placeholder="●●●" maxlength="4" required>
                  </div>
                </div>
              </div>

            </div>
          </div>

        </div>

        <!-- Right column: Order summary -->
        <div class="col-lg-5">

          <div class="card mb-3">
            <div class="card-body">
              <h2 class="h6 mb-3">Your Order</h2>

              <ul id="order-items" class="list-group mb-3">
                <!-- Items are rendered by JS; sample structure below for reference -->
                <!--
                <li class="list-group-item d-flex align-items-center">
                  <div class="flex-grow-1">
                    <div class="fw-semibold">Burger</div>
                    <div class="muted small">Beef • Large</div>
                  </div>
                  <div class="d-flex align-items-center ms-3">
                    <input type="number" min="1" value="1" class="form-control form-control-sm order-item-qty" data-price="850" />
                    <div class="ms-3 fw-semibold">LKR <span class="item-total">850</span></div>
                  </div>
                </li>
                -->
              </ul>

              <div class="d-flex justify-content-between mb-1">
                <div class="muted">Subtotal</div>
                <div>LKR <span id="subtotal">0</span></div>
              </div>
              <div class="d-flex justify-content-between mb-1">
                <div class="muted">Delivery fee</div>
                <div>LKR <span id="delivery-fee">150</span></div>
              </div>
              <div class="d-flex justify-content-between total-row mt-2">
                <div>Total</div>
                <div>LKR <span id="grand-total">0</span></div>
              </div>

              <input type="hidden" name="order_id" value="TSH-20250815-001">
              <input type="hidden" name="order_summary" id="order-summary-input" value="">

              <div class="d-grid mt-3">
                <button id="buy-now" class="btn btn-success btn-buy" type="submit" disabled>
                  <i class="fa-solid fa-bag-shopping me-2"></i> Buy Now — Pay LKR <span id="buy-now-amount">0</span>
                </button>
              </div>

              <div class="muted text-small mt-3">
                By confirming you agree to our <a href="#" class="link-primary">Terms & Conditions</a> and <a href="#" class="link-primary">Privacy Policy</a>.
              </div>
            </div>
          </div>

          <!-- Order notes / coupon -->
          <div class="card">
            <div class="card-body">
              <label for="coupon" class="form-label">Coupon code</label>
              <div class="input-group">
                <input id="coupon" class="form-control" placeholder="Enter code" aria-label="Coupon code">
                <button type="button" id="apply-coupon" class="btn btn-outline-primary">Apply</button>
              </div>
              <div id="coupon-msg" class="muted mt-2"></div>
            </div>
          </div>

        </div>
      </div>
    </form>
  </main>

  <!-- Edit Address Modal -->
  <div class="modal fade" id="editAddressModal" tabindex="-1" aria-labelledby="editAddressLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <form id="address-form" class="needs-validation" novalidate>
          <div class="modal-header">
            <h5 class="modal-title" id="editAddressLabel">Edit Delivery Address</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-2">
              <label class="form-label">Recipient name</label>
              <input type="text" id="modal-recipient" class="form-control" required>
            </div>
            <div class="mb-2">
              <label class="form-label">Phone (with country code)</label>
              <input type="tel" id="modal-phone" class="form-control" pattern="^\+?\d{7,15}$" required>
              <div class="form-text muted">e.g. +94 77 123 4567</div>
            </div>
            <div class="mb-2">
              <label class="form-label">Address</label>
              <textarea id="modal-address" class="form-control" rows="3" required></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary btn-sm">Save address</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

 
<!-- footer -->
  <div id="footer-placeholder"></div>

<!--<?php include 'footer.html'; ?> -->

<script src="js/script.js"></script>
    </body>
</html>